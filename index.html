<!-- 
Project Name: CRGOMEZ Site CV
Description: HTML5
Version: 6.0 - Lovable Inspired
-->
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#ffffff" />
    <meta name="Description" content="Author: Carlos R Gomez,
    Senior Security Engineer, Incident Response, Quantitative Insights & AI-Augmented Decision Making, Amazon Device Subsidiaries">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Carlos R. Gomez - Senior Security Engineer</title>

    <!-- favicon -->
    <script src="https://kit.fontawesome.com/d3680e782f.js" crossorigin="anonymous"></script>
    <link href="https://s3.us-west-2.amazonaws.com/crgomez.com/amplify.png" rel=icon>

    <!-- web-fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Noto+Sans:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">

    <!-- Style CSS - New Modular Architecture -->
    <link href="css/main.css" rel="stylesheet">

</head>

<body id="page-top">
    <div id="main-wrapper">
        <!-- Page Preloader -->
        <div id="preloader">
            <div id="status">
                <div class="status-mes"></div>
            </div>
        </div>

        <!-- Modern Single-Column Layout inspired by Lovable -->
        <div class="min-h-screen">
            <!-- Hero Section - GitHub Project Layout -->
            <section class="hero-section container py-20 md:py-32">
                <style>
                    @media (max-width: 767px) {

                        .responsive-table,
                        .responsive-table tr,
                        .responsive-table td {
                            display: block !important;
                            width: 100% !important;
                        }

                        .responsive-table td {
                            padding: 0 !important;
                            margin-bottom: 2rem;
                        }

                        .desktop-photo-cell {
                            display: none !important;
                        }
                    }
                </style>
                <table class="responsive-table" style="width: 100%; border-collapse: collapse;">
                    <tr>
                        <td style="vertical-align: top; padding-right: 3rem; width: 60%;">
                            <!-- Role Badge -->
                            <div class="role-badge-enhanced mb-6">
                                Senior Security Engineer, Incident Response
                            </div>

                            <!-- Main Tagline -->
                            <h1 class="gradient-text text-4xl md:text-6xl font-bold mb-8 leading-tight" style="font-size: 3.5rem; line-height: 1.15;">
                                Driving quantitative insights in incident response for Amazon Device Subsidiaries & Acquisitions
                            </h1>

                            <!-- Introduction -->
                            <div class="space-y-6 text-lg md:text-xl mb-12">
                                <p class="text-foreground">
                                    <strong>Hi! I'm Carlos,</strong> a Senior Security Engineer specializing in incident response for Device Subsidiaries & Acquisitions with advanced training in AI/ML and quantitative decision-making frameworks. Over 11 years of experience transforming security operations through data-driven insights and AI-augmented analysis.
                                </p>
                                <p class="text-muted-foreground">
                                    Currently leading quantitative insights initiatives using IWIKS methodology and precision questioning techniques. Expertise in making critical decisions with incomplete information through contextual analysis and synthesis, bridging traditional analytics with AI-augmented judgment for enhanced incident response across Amazon's device ecosystem.
                                </p>
                            </div>
        </div>

        <!-- Mobile Photo Placeholder (will be moved by JavaScript) -->
        <div id="mobile-photo-placeholder" style="display: none; text-align: center; margin: 2rem 0; width: 100%;">
        </div>

        <!-- CTA Buttons -->
        <div class="mb-16 flex gap-6 items-center flex-wrap">
            <a href="https://github.com/crgomez" class="social-icon-enhanced"
                target="_blank">
                <i class="fab fa-github"></i>
            </a>
            <a href="https://www.linkedin.com/in/cgomezsystemadmin/"
                class="social-icon-enhanced" target="_blank">
                <i class="fab fa-linkedin"></i>
            </a>
            <a href="https://s3.us-west-2.amazonaws.com/crgomez.com/crgomez-security-engineer.pdf" class="cta-button-enhanced"
                target="_blank">
                <i class="fas fa-download"></i>
                Resume
            </a>
        </div>

        <!-- Key Areas of Expertise -->
        <div>
            <p class="text-xl font-semibold mb-6">Key areas of expertise:</p>
            <div class="flex flex-wrap gap-3">
                <span class="tag-enhanced">Insider Threat Detection</span>
                <span class="tag-enhanced">Incident Response</span>
                <span class="tag-enhanced">AI/ML & Data Science</span>
                <span class="tag-enhanced">Security Engineering</span>
                <span class="tag-enhanced">SOAR & SIEM</span>
                <span class="tag-enhanced">Digital Forensics</span>
                <span class="tag-enhanced">Leadership & Strategy</span>
            </div>
        </div>
        </td>
        <td class="desktop-photo-cell" style="vertical-align: top; width: 40%; text-align: center; padding-top: 4rem;">
            <div id="interactive-photo" class="relative border border-border overflow-hidden cursor-none"
                style="width: 314px; height: 418px; margin: 0 auto;">
                <div class="absolute inset-0">
                    <img src="https://s3.us-west-2.amazonaws.com/crgomez.com/IMG.png" alt="Carlos R Gomez"
                        style="width: 100%; height: 100%; object-fit: cover; filter: blur(20px);">
                </div>
                <div id="clear-layer" class="absolute inset-0" style="opacity: 0; transition: opacity 0.3s;">
                    <img src="https://s3.us-west-2.amazonaws.com/crgomez.com/IMG.png" alt="Carlos R Gomez"
                        style="width: 100%; height: 100%; object-fit: cover;">
                </div>
                <div id="cursor-border"
                    style="position: absolute; width: 150px; height: 200px; border: 2px solid var(--color-primary); opacity: 0.3; pointer-events: none; transition: transform 0.1s; display: none;">
                </div>
            </div>
        </td>
        </tr>
        </table>
        </table>

        </section>

        <!-- Experience Section -->
        <section class="container py-8">
            <!-- Experience Cards -->
            <div class="timeline-container space-y-16">
                <!-- Amazon Timeline Node -->
                <div class="timeline-node">
                    <div class="timeline-dot">
                        <div class="company-icon">
                            <i class="fab fa-amazon"></i>
                        </div>
                    </div>
                </div>

                <!-- Amazon Devices - Senior Security Engineer -->
                <article class="experience-card fade-in-up border border-border bg-card">
                    <div class="p-8 md:p-12">
                        <div class="flex flex-wrap gap-2 mb-4">
                            <div class="company-badge">
                                <i class="fab fa-amazon"></i>
                                Amazon
                            </div>
                            <span class="badge-secondary">Incident Response</span>
                            <span class="badge-secondary">Quantitative Insights</span>
                            <span class="badge-secondary">AI/ML</span>
                            <span class="badge-secondary">AWS Infrastructure</span>
                            <span class="badge-secondary">Terraform</span>
                        </div>

                        <p class="text-sm text-muted-foreground mb-4">
                            2024 - Present • Amazon • Devices Subsidiaries & Acquisitions
                        </p>

                        <h2 class="mb-6">Senior Security Engineer, Incident Response</h2>

                        <p class="text-lg text-muted-foreground mb-6">
                            Leading quantitative insights initiatives and technical infrastructure projects for incident response across Amazon's device ecosystem using IWIKS™ methodology, AI-augmented decision-making frameworks, and enterprise-scale security analytics platforms.
                        </p>

                        <div class="text-4xl font-bold mb-2 text-primary">IWIKS™</div>
                        <p class="text-muted-foreground mb-8">
                            Proprietary Data Collection Plan framework enabling precision questioning, contextual analysis, and synthesis for decision-making with incomplete information
                        </p>

                        <ul class="space-y-4 text-muted-foreground mb-6">
                            <li>Automated MITRE ATT&CK coverage analysis using QuickSight Flow Agent with AI, eliminating manual research overhead and enabling security engineers to focus on high-value detection engineering and incident response</li>
                            <li>Built serverless AWS QuickSight analytics platform aggregating incident data from 7+ work management applications, reducing weekly reporting time from 8+ hours to minutes with 365-day retention and real-time dashboards</li>
                            <li>Created infrastructure-as-code WAF management system with automated staging validation, KMS encryption, and least-privilege IAM, achieving sub-5 minute secure deployments with complete audit compliance</li>
                            <li>Developed IWIKS™ and Quantitative Intuition (QI™) frameworks transforming incident response decision-making from linear analytics to AI-augmented judgment, improving accuracy in time-critical security incidents with incomplete information</li>
                        </ul>

                        <div class="pt-4">
                            <button data-project="amazon-senior"
                                class="text-primary hover:text-primary-hover underline hover:no-underline transition-colors text-sm font-medium cursor-pointer bg-transparent border-none p-0">
                                View Quantitative Insights Framework →
                            </button>
                        </div>
                    </div>
                </article>

                <!-- Amazon Timeline Node -->
                <div class="timeline-node">
                    <div class="timeline-dot">
                        <div class="company-icon">
                            <i class="fab fa-amazon"></i>
                        </div>
                    </div>
                </div>

                <!-- Amazon Devices - Manager (Previous Role) -->
                <article class="experience-card fade-in-up border border-border bg-card">
                    <div class="p-8 md:p-12">
                        <div class="flex flex-wrap gap-2 mb-4">
                            <div class="company-badge">
                                <i class="fab fa-amazon"></i>
                                Amazon
                            </div>
                            <span class="badge-secondary">Insider Threat</span>
                            <span class="badge-secondary">AI/ML</span>
                            <span class="badge-secondary">Leadership</span>
                        </div>

                        <p class="text-sm text-muted-foreground mb-4">
                            2022 - 2024 • Amazon • Devices Subsidiaries & Acquisitions
                        </p>

                        <h2 class="mb-6">Manager, Insider Threat Program</h2>

                        <p class="text-lg text-muted-foreground mb-6">
                            Led cross-functional team developing enterprise-scale insider threat detection
                            capabilities across Amazon's hardware subsidiaries (Ring, Blink, Eero) and autonomous
                            vehicle division (Zoox).
                        </p>

                        <div class="text-4xl font-bold mb-2 text-primary">4k+</div>
                        <p class="text-muted-foreground mb-8">
                            AWS accounts monitored with centralized security analytics platform processing
                            CloudTrail telemetry
                        </p>

                        <ul class="space-y-4 text-muted-foreground mb-6">
                            <li>Architected comprehensive insider threat detection system across 4,000+ AWS accounts with 50+ custom behavioral indicators using machine learning correlation algorithms, achieving 75% reduction in Mean Time to Detect (MTTD)</li>
                            <li>Implemented orchestration middleware security controls protecting Ring's 40M+ Monthly Active Users with automated validation pipelines, comprehensive audit logging, and 99.9% uptime SLA</li>
                            <li>Developed SOAR platform integration with automated incident response workflows and machine learning triage, achieving 95% accuracy rate and significantly reducing Mean Time to Respond (MTTR)</li>
                        </ul>

                        <div class="pt-4">
                            <button data-project="amazon-manager"
                                class="text-primary hover:text-primary-hover underline hover:no-underline transition-colors text-sm font-medium cursor-pointer bg-transparent border-none p-0">
                                View Technical Implementation Details →
                            </button>
                        </div>
                    </div>
                </article>

                <!-- Ring Timeline Node -->
                <div class="timeline-node">
                    <div class="timeline-dot timeline-dot-ring">
                        <div class="company-icon ring-icon">
                            Ring
                        </div>
                    </div>
                </div>

                <!-- Ring - Security Engineer III -->
                <article class="experience-card fade-in-up border border-border bg-card">
                    <div class="p-8 md:p-12">
                        <div class="flex flex-wrap gap-2 mb-4">
                            <div class="company-badge company-badge-ring">
                                <span class="ring-logo">Ring</span>
                            </div>
                            <span class="badge-secondary">Security Engineering</span>
                            <span class="badge-secondary">SOAR</span>
                        </div>

                        <p class="text-sm text-muted-foreground mb-4">
                            2020 - 2022 • Amazon • Ring (RBKS)
                        </p>

                        <h2 class="mb-6">Security Engineer III, Lead Insider Threat Program</h2>

                        <p class="text-lg text-muted-foreground mb-6">
                            Conducted case-studies highlighting security & privacy risks, gaining stakeholder
                            sponsorship to develop Ring's Insider Threat Program under Defensive Security.
                        </p>

                        <div class="text-4xl font-bold mb-2 text-primary">35.8M</div>
                        <p class="text-muted-foreground mb-8">
                            customer accounts protected through Two Person Authorization (2PA) security controls
                            implementation
                        </p>

                        <ul class="space-y-4 text-muted-foreground mb-6">
                            <li>Developed automated AWS CloudWatch log ingestion pipeline using Infrastructure as Code (IaC), reducing onboarding time from 3-4 weeks to 30 minutes and enabling rapid security monitoring expansion</li>
                            <li>Implemented Two Person Authorization (2PA) security controls protecting 35.8M customer accounts from insider-driven account takeover threats with real-time validation and comprehensive audit logging</li>
                            <li>Built automated SOAR pipeline with standardized playbooks and integrated SIEM alerting, achieving faster incident containment with consistent response procedures</li>
                        </ul>

                        <div class="pt-4">
                            <button data-project="ring-engineer"
                                class="text-primary hover:text-primary-hover underline hover:no-underline transition-colors text-sm font-medium cursor-pointer bg-transparent border-none p-0">
                                View Security Architecture Details →
                            </button>
                        </div>
                    </div>
                </article>

                <!-- Ring Timeline Node -->
                <div class="timeline-node">
                    <div class="timeline-dot timeline-dot-ring">
                        <div class="company-icon ring-icon">
                            Ring
                        </div>
                    </div>
                </div>

                <!-- Ring - Incident Response -->
                <article class="experience-card fade-in-up border border-border bg-card">
                    <div class="p-8 md:p-12">
                        <div class="flex flex-wrap gap-2 mb-4">
                            <div class="company-badge company-badge-ring">
                                <span class="ring-logo">Ring</span>
                            </div>
                            <span class="badge-secondary">Incident Response</span>
                            <span class="badge-secondary">Digital Forensics</span>
                        </div>

                        <p class="text-sm text-muted-foreground mb-4">
                            2018 - 2020 • Ring • Security Engineering
                        </p>

                        <h2 class="mb-6">Security Engineer II, Incident Response</h2>

                        <p class="text-lg text-muted-foreground mb-6">
                            Authored Ring's Incident Response Protocols/Procedures built on F3EAD framework and NIST
                            Computer Security Incident Response Guide. Led Engineering, Legal, PR, and Stakeholders
                            through Intelligence-Driven Incident Response Cycle.
                        </p>

                        <ul class="space-y-4 text-muted-foreground mb-6">
                            <li>Developed comprehensive incident response framework based on F3EAD methodology with MITRE ATT&CK mapping, establishing consistent intelligence-driven workflows for cross-functional coordination between Engineering, Legal, PR, and executive teams</li>
                            <li>Created automated digital forensics playbooks with standardized evidence preservation workflows and SIEM integration, accelerating evidence collection while maintaining forensic integrity for security investigations</li>
                        </ul>

                        <div class="pt-4">
                            <button data-project="ring-incident"
                                class="text-primary hover:text-primary-hover underline hover:no-underline transition-colors text-sm font-medium cursor-pointer bg-transparent border-none p-0">
                                View Framework Documentation →
                            </button>
                        </div>
                    </div>
                </article>

                <!-- Google Timeline Node -->
                <div class="timeline-node">
                    <div class="timeline-dot">
                        <div class="company-icon">
                            <i class="fab fa-google"></i>
                        </div>
                    </div>
                </div>

                <!-- Google - Previous Experience -->
                <article class="experience-card fade-in-up border border-border bg-card">
                    <div class="p-8 md:p-12">
                        <div class="flex flex-wrap gap-2 mb-4">
                            <div class="company-badge">
                                <i class="fab fa-google"></i>
                                Google
                            </div>
                            <span class="badge-secondary">Cloud Platform</span>
                            <span class="badge-secondary">Full Stack</span>
                        </div>

                        <p class="text-sm text-muted-foreground mb-4">
                            2016 - 2018 • Google • IT Operations & Cloud Platform
                        </p>

                        <h2 class="mb-6">IT Operations & Full Stack Engineer (Rotation)</h2>

                        <p class="text-lg text-muted-foreground mb-6">
                            Provided support to 130K+ Googlers and developed data analytics platform for cloud
                            infrastructure optimization.
                        </p>

                        <div class="text-4xl font-bold mb-2 text-primary">80%</div>
                        <p class="text-muted-foreground mb-8">
                            reduction in Google Cloud Storage partner data tracking dashboard load times
                        </p>
                    </div>
                </article>
            </div>
        </section>

        <!-- Education & Professional Development Section -->
        <section class="fade-in container py-16">
            <h2 class="text-3xl md:text-4xl font-bold mb-12">Education & Professional Development</h2>

            <!-- Education Cards Side by Side -->
            <div class="education-cards-container mb-16">
                <div class="education-card border border-border p-6 bg-card">
                    <h3 class="text-xl font-semibold mb-6">Academic Background</h3>
                    <div class="space-y-4">
                        <div>
                            <h4 class="font-semibold text-foreground">MS Homeland Security</h4>
                            <p class="text-muted-foreground">InfoSec & Forensics • Penn State University</p>
                        </div>
                        <div>
                            <h4 class="font-semibold text-foreground">BS Information Systems Security</h4>
                            <p class="text-muted-foreground">Azusa Pacific University</p>
                        </div>
                        <div>
                            <h4 class="font-semibold text-foreground">AS Behavioral & Social Science</h4>
                            <p class="text-muted-foreground">Los Angeles Southwest College</p>
                        </div>
                    </div>
                </div>

                <div class="education-card border border-border p-6 bg-card">
                    <h3 class="text-xl font-semibold mb-6">Executive Education</h3>
                    <div class="space-y-4">
                        <div>
                            <h4 class="font-semibold text-foreground">Leading in a Data-Driven World</h4>
                            <p class="text-muted-foreground">Columbia Business School Executive Education</p>
                        </div>
                        <div>
                            <h4 class="font-semibold text-foreground">Demystifying AI</h4>
                            <p class="text-muted-foreground">Stanford Continuous Studies</p>
                        </div>
                        <div>
                            <h4 class="font-semibold text-foreground">The Mindful Manager</h4>
                            <p class="text-muted-foreground">Stanford Continuous Studies</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Certifications -->
            <div class="certifications-container mb-16">
                <h3 class="text-2xl font-bold mb-8">Certifications</h3>
                <div class="certifications-cards-container">
                    <div class="certification-card border border-border p-6 bg-card">
                        <h4 class="text-lg font-semibold mb-4">Leadership & Data Science</h4>
                        <div class="space-y-4">
                            <div>
                                <a href="https://www.credential.net/f8a0f143-17c4-42d2-9562-6596b49a32cd#acc.5OHiTI3J"
                                    target="_blank" class="text-primary hover:underline font-semibold">
                                    Leading in a Data-Driven World: Developing Quantitative Intuition
                                </a>
                                <p class="text-sm text-muted-foreground mt-1">Columbia Business School Executive
                                    Education</p>
                            </div>
                            <div>
                                <a href="https://www.coursera.org/account/accomplishments/certificate/U2N62CPNXH5U"
                                    target="_blank" class="text-primary hover:underline font-semibold">
                                    Big Data and Machine Learning Fundamentals
                                </a>
                                <p class="text-sm text-muted-foreground mt-1">Coursera</p>
                            </div>
                        </div>
                    </div>

                    <div class="certification-card border border-border p-6 bg-card">
                        <h4 class="text-lg font-semibold mb-4">Security & Operations</h4>
                        <div class="space-y-4">
                            <div>
                                <a href="https://www.coursera.org/account/accomplishments/certificate/MGP6LY9QGGLU"
                                    target="_blank" class="text-primary hover:underline font-semibold">
                                    Real-Time Cyber Threat Detection and Mitigation
                                </a>
                                <p class="text-sm text-muted-foreground mt-1">Coursera</p>
                            </div>
                            <div>
                                <a href="https://www.coursera.org/account/accomplishments/certificate/69J9U2AASWUV"
                                    target="_blank" class="text-primary hover:underline font-semibold">
                                    G Suite Administrator Fundamentals
                                </a>
                                <p class="text-sm text-muted-foreground mt-1">Coursera</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Technical Skills -->
            <div class="border border-border p-8 md:p-10 bg-card">
                <h3 class="text-2xl font-bold mb-8">Technical Skills</h3>
                <div class="technical-skills-grid">
                    <div>
                        <h4 class="text-lg font-semibold text-foreground mb-3">Security Engineering</h4>
                        <p class="text-muted-foreground">Threat Hunting, Incident Response, Digital Forensics, SOAR,
                            SIEM Platforms</p>
                    </div>

                    <div>
                        <h4 class="text-lg font-semibold text-foreground mb-3">AI/ML & Data Science</h4>
                        <p class="text-muted-foreground">Business Intelligence, Risk Modeling, Predictive Analytics,
                            Machine Learning, Anomaly Detection</p>
                    </div>

                    <div>
                        <h4 class="text-lg font-semibold text-foreground mb-3">Leadership & Strategy</h4>
                        <p class="text-muted-foreground">Conflict Resolution, Operational Planning, Talent
                            Management, Resource Budgeting</p>
                    </div>
                </div>
            </div>
        </section>
    </div>
    <!-- .min-h-screen -->
    </div>
    <!-- #main-wrapper -->

    <!-- jquery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
        integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <!-- Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>

    <!-- Mermaid for diagrams -->
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({
            startOnLoad: true,
            theme: 'dark',
            themeVariables: {
                primaryColor: '#3b82f6',
                primaryTextColor: '#fff',
                primaryBorderColor: '#2563eb',
                lineColor: '#94a3b8',
                secondaryColor: '#1e293b',
                tertiaryColor: '#0f172a'
            }
        });
        window.mermaid = mermaid;
    </script>

    <script src="js/scripts.js"></script>

    <!-- Project Details JavaScript -->
    <script>
        // Project detail data
        const projectDetails = {
            'amazon-senior': {
                title: 'Quantitative Insights & Security Analytics Platform',
                tech: ['IWIKS™ Methodology', 'AWS QuickSight Flow Agent', 'MITRE ATT&CK', 'AWS Lambda', 'Terraform', 'Python 3.11', 'AWS WAF', 'EventBridge', 'S3', 'KMS', 'IAM', 'AI-Powered Analytics'],
                overview: 'Enterprise-scale security analytics and decision-making platform leveraging serverless AWS architecture, AI-augmented analysis, and proprietary IWIKS™ methodology for incident response across Amazon Device Subsidiaries & Acquisitions.',
                architecture: {
                    title: 'System Architecture',
                    sections: [
                        {
                            heading: '1. AI-Powered MITRE Coverage Analytics',
                            content: 'QuickSight Flow Agent integration for automated MITRE ATT&CK framework analysis. Lambda functions process detection coverage data across business units, identify gaps, and generate intelligent reports highlighting new detections. Real-time dashboard provides continuous visibility into security posture.'
                        },
                        {
                            heading: '2. Serverless Security Metrics Platform',
                            content: 'Multi-source data aggregation platform processing incident data from 7+ work management applications. EventBridge orchestrates scheduled data collection, Lambda functions perform ETL operations, S3 stores 365-day historical data with lifecycle policies, and QuickSight provides real-time analytics dashboards with automated refresh.'
                        },
                        {
                            heading: '3. Infrastructure-as-Code WAF Management',
                            content: 'Terraform-based WAF deployment system with staging validation pipeline. KMS-encrypted configuration storage, IAM least-privilege roles for automated deployments, EventBridge triggers for automated staging tests, and comprehensive CloudTrail audit logging. Resolves circular dependency challenges through modular Terraform architecture.'
                        },
                        {
                            heading: '4. IWIKS™ Decision Framework',
                            content: 'Proprietary decision-making methodology transforming incident response from linear analytics to AI-augmented judgment. Framework stages: <strong>Identify</strong> (problem scoping) → <strong>When</strong> (temporal analysis) → <strong>Identify</strong> (data gaps) → <strong>Know</strong> (AI synthesis) → <strong>Status</strong> (decision output). Integrates Quantitative Intuition (QI™) for bridging analytical rigor with experiential knowledge in time-critical scenarios.'
                        }
                    ]
                },
                diagram: `graph TB
    subgraph "Data Sources"
        A1[Work Management Apps<br/>7+ Systems]
        A2[AWS CloudTrail]
        A3[MITRE ATT&CK<br/>Detection Coverage]
    end

    subgraph "Serverless Processing Layer"
        B1[EventBridge<br/>Schedulers]
        B2[Lambda Functions<br/>ETL & Analysis]
        B3[QuickSight Flow Agent<br/>AI Processing]
    end

    subgraph "Storage & Security"
        C1[S3 Buckets<br/>365-day Retention]
        C2[KMS Encryption]
        C3[IAM Policies<br/>Least Privilege]
    end

    subgraph "Analytics & Decision"
        D1[QuickSight Dashboards<br/>Real-time Metrics]
        D2[IWIKS Framework<br/>AI-Augmented Judgment]
        D3[Automated Reports<br/>Coverage Analysis]
    end

    subgraph "Infrastructure"
        E1[Terraform IaC<br/>Multi-Account]
        E2[WAF Configs<br/>Staging Validation]
        E3[CloudTrail Audit<br/>Complete Logs]
    end

    A1 --> B1
    A2 --> B2
    A3 --> B3
    B1 --> B2
    B2 --> C1
    B3 --> D3
    C1 --> D1
    C2 -.encrypts.-> C1
    C3 -.governs.-> B2
    D1 --> D2
    E1 --> E2
    E2 --> E3

    style D2 fill:#3b82f6,stroke:#2563eb,stroke-width:3px
    style B3 fill:#3b82f6,stroke:#2563eb,stroke-width:2px`,
                technicalDetails: [
                    '<strong>Deployment Architecture:</strong> Multi-account AWS infrastructure with automated Terraform deployments. Staging environment validates WAF configurations before production promotion. Sub-5 minute deployment pipeline with automated rollback capabilities.',
                    '<strong>Data Pipeline:</strong> EventBridge-triggered Lambda functions perform scheduled data aggregation from 7+ work management systems. ETL processes normalize incident data, calculate metrics, and store in S3 with 365-day retention policies.',
                    '<strong>AI Integration:</strong> QuickSight Flow Agent analyzes MITRE ATT&CK coverage patterns, identifies detection gaps, and generates contextual reports. Machine learning models highlight anomalies in security posture trends.',
                    '<strong>Security Controls:</strong> KMS encryption for data at rest, IAM least-privilege roles with time-bound credentials, comprehensive CloudTrail audit logging, and automated compliance validation in staging pipeline.',
                    '<strong>Decision Framework:</strong> IWIKS™ methodology transforms decision-making from Problem→Data→Analytics→Insights→Decision to Problem→Data→AI→Judgment→Decision, improving accuracy in time-critical incident response with incomplete information.'
                ],
                metrics: '7+ Integrated Systems • 365-Day Data Retention • Sub-5 Min Deployments • AI-Augmented Analysis'
            },
            'amazon-manager': {
                title: 'Enterprise Insider Threat Detection Platform',
                tech: ['Python', 'AWS Lambda', 'CloudTrail', 'Machine Learning', 'ElasticSearch', 'Kibana', 'SOAR'],
                overview: 'Comprehensive insider threat detection system processing CloudTrail telemetry from 4,000+ AWS accounts across Amazon hardware subsidiaries (Ring, Blink, Eero, Zoox), leveraging machine learning for behavioral anomaly detection and automated risk assessment.',
                architecture: {
                    title: 'System Architecture',
                    sections: [
                        {
                            heading: '1. Multi-Account CloudTrail Aggregation',
                            content: 'Centralized log collection from 4,000+ AWS accounts across subsidiaries. Lambda functions aggregate CloudTrail events into centralized S3 buckets with partitioning by account, region, and timestamp. Real-time streaming to ElasticSearch cluster for indexing and search capabilities.'
                        },
                        {
                            heading: '2. Behavioral Threat Detection Engine',
                            content: '50+ custom threat indicators implementing machine learning correlation algorithms. Python-based detection models analyze user behavior patterns, privilege escalation attempts, unusual API calls, and cross-account access anomalies. Real-time risk scoring with severity classification (Critical, High, Medium, Low).'
                        },
                        {
                            heading: '3. Orchestration Middleware for Ring',
                            content: 'API Gateway + Lambda middleware protecting 40M+ Monthly Active Users. Automated validation pipelines enforce security policies before sensitive operations. Comprehensive audit logging captures all privileged access with metadata. Scalable architecture maintains 99.9% uptime SLA.'
                        },
                        {
                            heading: '4. SOAR Integration & Automated Response',
                            content: 'Machine learning-based alert triage with 95% accuracy rate. Automated incident response playbooks for common threat scenarios. Cross-system orchestration integrating SIEM, ticketing, and communication platforms. Reduces Mean Time to Respond (MTTR) through workflow automation.'
                        }
                    ]
                },
                diagram: `graph TB
    subgraph "Data Collection - 4000+ Accounts"
        A1[Ring AWS Accounts]
        A2[Blink AWS Accounts]
        A3[Eero AWS Accounts]
        A4[Zoox AWS Accounts]
    end

    subgraph "Aggregation Layer"
        B1[CloudTrail Events<br/>Multi-Region]
        B2[Lambda Processors<br/>ETL Pipeline]
        B3[S3 Central Store<br/>Partitioned Data]
    end

    subgraph "Detection Engine"
        C1[ElasticSearch Cluster<br/>Real-time Indexing]
        C2[ML Models<br/>50+ Indicators]
        C3[Risk Scoring<br/>Automated Severity]
    end

    subgraph "Orchestration Middleware"
        D1[API Gateway<br/>Ring Protection]
        D2[Validation Lambda<br/>40M+ Users]
        D3[Audit Logging<br/>Privileged Access]
    end

    subgraph "Response Automation"
        E1[SOAR Platform<br/>95% Accuracy]
        E2[Automated Playbooks<br/>Common Scenarios]
        E3[Alert Triage<br/>ML Prioritization]
    end

    A1 & A2 & A3 & A4 --> B1
    B1 --> B2
    B2 --> B3
    B3 --> C1
    C1 --> C2
    C2 --> C3
    C3 --> E1
    D1 --> D2
    D2 --> D3
    D3 --> C1
    E1 --> E2
    E2 --> E3

    style C2 fill:#3b82f6,stroke:#2563eb,stroke-width:3px
    style E1 fill:#3b82f6,stroke:#2563eb,stroke-width:2px`,
                technicalDetails: [
                    '<strong>Detection Methodology:</strong> Machine learning models analyze behavioral patterns including anomalous API calls, privilege escalation, unusual access times, cross-account activity, and data exfiltration indicators. Correlation algorithms identify multi-step attack chains.',
                    '<strong>Risk Scoring:</strong> Automated risk assessment engine assigns severity scores based on user context, action sensitivity, historical behavior, and environmental factors. Achieved 75% reduction in Mean Time to Detect (MTTD) through real-time alerting.',
                    '<strong>Ring Middleware:</strong> API Gateway enforces security controls for customer data access protecting 40M+ MAU. Lambda validation functions implement business logic, policy enforcement, and audit trail generation. Maintains 99.9% uptime SLA with auto-scaling.',
                    '<strong>SOAR Integration:</strong> Automated incident response workflows with machine learning triage (95% accuracy). Playbook-driven investigations for common scenarios reduce analyst workload. Cross-platform orchestration integrates SIEM, ticketing systems, and communication tools.',
                    '<strong>Scalability:</strong> ElasticSearch cluster processes millions of CloudTrail events daily with horizontal scaling. Lambda-based architecture provides cost-effective processing with automatic scaling. S3 lifecycle policies manage long-term retention and cost optimization.'
                ],
                metrics: '4,000+ AWS Accounts • 50+ ML Indicators • 75% MTTD Reduction • 40M+ MAU Protected • 99.9% Uptime'
            },
            'ring-engineer': {
                title: 'Security Orchestration Middleware & Insider Threat Program',
                tech: ['Node.js', 'AWS Lambda', 'API Gateway', 'DynamoDB', 'CloudFormation', 'TypeScript', 'CloudWatch'],
                overview: 'Security orchestration platform protecting Ring\'s 40M+ Monthly Active Users through automated validation pipelines, Two Person Authorization (2PA) controls, and Infrastructure-as-Code log management. Founded Ring\'s Insider Threat Program under Defensive Security.',
                architecture: {
                    title: 'System Architecture',
                    sections: [
                        {
                            heading: '1. Automated CloudWatch Log Ingestion',
                            content: 'Infrastructure-as-Code pipeline for rapid log onboarding. CloudFormation templates with standardized configurations for log groups, subscription filters, and retention policies. Automated validation ensures correct IAM permissions and encryption. Reduced onboarding from 3-4 weeks to 30 minutes per service.'
                        },
                        {
                            heading: '2. Two Person Authorization (2PA) System',
                            content: 'API Gateway + Lambda middleware enforcing dual authorization for sensitive customer data access. Real-time validation logic confirms both authorizers have appropriate permissions. DynamoDB stores authorization requests with TTL expiration. Comprehensive CloudWatch audit logging captures all access attempts. Protects 35.8M customer accounts from insider threats.'
                        },
                        {
                            heading: '3. SOAR Pipeline Integration',
                            content: 'Automated incident response orchestration with standardized playbooks. Lambda functions trigger response workflows based on SIEM alerts. TypeScript-based orchestration engine coordinates cross-system actions. Integration with ticketing, communication, and remediation platforms. Ensures consistent, repeatable response procedures.'
                        },
                        {
                            heading: '4. Security Control Deployment Pipeline',
                            content: 'CloudFormation-based deployment automation with validation stages. Automated testing validates security controls before production deployment. Comprehensive audit logging tracks all configuration changes. Reduced deployment time from weeks to minutes while maintaining compliance.'
                        }
                    ]
                },
                diagram: `graph TB
    subgraph "Log Management IaC"
        A1[CloudFormation Templates<br/>Standardized Configs]
        A2[Automated Validation<br/>IAM & Encryption]
        A3[CloudWatch Log Groups<br/>Rapid Onboarding]
    end

    subgraph "2PA Security Controls"
        B1[API Gateway<br/>Request Entry]
        B2[Lambda Validator<br/>Dual Authorization]
        B3[DynamoDB<br/>Auth Requests & TTL]
        B4[Audit Logs<br/>35.8M Accounts]
    end

    subgraph "SOAR Orchestration"
        C1[SIEM Alerts<br/>Threat Detection]
        C2[Lambda Orchestrator<br/>TypeScript Engine]
        C3[Response Playbooks<br/>Automated Actions]
        C4[Cross-System Integration<br/>Ticketing & Comms]
    end

    subgraph "Deployment Pipeline"
        D1[CloudFormation Stack<br/>Security Controls]
        D2[Validation Stage<br/>Automated Testing]
        D3[Production Deploy<br/>Minutes Not Weeks]
        D4[Audit Trail<br/>Compliance Tracking]
    end

    A1 --> A2
    A2 --> A3
    B1 --> B2
    B2 --> B3
    B2 --> B4
    C1 --> C2
    C2 --> C3
    C3 --> C4
    D1 --> D2
    D2 --> D3
    D3 --> D4

    style B2 fill:#3b82f6,stroke:#2563eb,stroke-width:3px
    style C2 fill:#3b82f6,stroke:#2563eb,stroke-width:2px`,
                technicalDetails: [
                    '<strong>2PA Implementation:</strong> TypeScript Lambda functions validate dual authorization requirements with role-based access controls. DynamoDB stores pending authorization requests with automatic TTL expiration. API Gateway rate limiting prevents abuse. CloudWatch alarms monitor for authorization anomalies.',
                    '<strong>Log Onboarding Automation:</strong> CloudFormation templates with parameterized configurations for consistent deployments. Automated IAM role creation with least-privilege permissions. KMS encryption for logs at rest. Cross-account subscription filters for centralized log aggregation.',
                    '<strong>SOAR Integration:</strong> Event-driven architecture using CloudWatch Events to trigger Lambda orchestrators. TypeScript-based workflow engine coordinates multi-step response actions. Integration with SIEM (Splunk/ElasticSearch), ticketing (JIRA), and communication (Slack/PagerDuty) platforms.',
                    '<strong>Security Validation:</strong> Automated testing framework validates security controls before deployment. CloudFormation drift detection identifies unauthorized changes. Compliance checks ensure controls meet security baselines. Rollback capabilities for failed deployments.',
                    '<strong>Insider Threat Program:</strong> Founded Ring\'s first Insider Threat Program under Defensive Security. Conducted case studies demonstrating security and privacy risks to gain stakeholder sponsorship. Established program charter, detection capabilities, and response procedures.'
                ],
                metrics: '40M+ MAU Protected • 35.8M Accounts w/ 2PA • 30 Min Onboarding • Weeks→Minutes Deployment'
            },
            'ring-incident': {
                title: 'Intelligence-Driven Incident Response Framework',
                tech: ['Python', 'NIST Framework', 'F3EAD', 'Digital Forensics', 'MITRE ATT&CK', 'SIEM'],
                overview: 'Comprehensive incident response framework built on F3EAD (Find, Fix, Finish, Exploit, Analyze, Disseminate) methodology and NIST guidelines. Established standardized protocols for cross-functional incident management coordinating Engineering, Legal, PR, and executive stakeholders.',
                architecture: {
                    title: 'Framework Architecture',
                    sections: [
                        {
                            heading: '1. F3EAD Intelligence Cycle',
                            content: '<strong>Find:</strong> Threat detection through SIEM correlation and threat intelligence. <strong>Fix:</strong> Threat localization and scoping using MITRE ATT&CK mapping. <strong>Finish:</strong> Threat containment and eradication. <strong>Exploit:</strong> Evidence collection and forensic analysis. <strong>Analyze:</strong> Root cause analysis and impact assessment. <strong>Disseminate:</strong> Stakeholder reporting and lessons learned documentation.'
                        },
                        {
                            heading: '2. Multi-Tier Incident Classification',
                            content: 'Severity-based classification system (P0-Critical, P1-High, P2-Medium, P3-Low) with defined escalation procedures. Role-based responsibility matrices specify decision-making authority at each tier. Clear SLA definitions for detection, response, and resolution timeframes. Automated notification workflows trigger appropriate stakeholder alerts based on severity.'
                        },
                        {
                            heading: '3. Automated Digital Forensics Pipeline',
                            content: 'Python-based forensics playbooks for standardized evidence collection. SIEM integration enables rapid artifact acquisition (logs, network captures, memory dumps). Chain-of-custody automation ensures legally defensible evidence handling. Forensic analysis tools integrated for timeline reconstruction and indicator extraction.'
                        },
                        {
                            heading: '4. Cross-Functional Communication Framework',
                            content: 'Stakeholder-specific communication templates for Engineering (technical details), Legal (compliance/liability), PR (public communication), and Executives (business impact). Technical translation guides bridge security terminology with business language. Escalation matrices define notification paths and decision authority. Post-incident review process with blameless retrospectives and action item tracking.'
                        }
                    ]
                },
                diagram: `graph TB
    subgraph "F3EAD Intelligence Cycle"
        A1[Find<br/>SIEM Detection]
        A2[Fix<br/>MITRE Mapping]
        A3[Finish<br/>Containment]
        A4[Exploit<br/>Forensics]
        A5[Analyze<br/>Root Cause]
        A6[Disseminate<br/>Reporting]
    end

    subgraph "Incident Classification"
        B1[Severity Triage<br/>P0-P3]
        B2[Responsibility Matrix<br/>Role-Based Authority]
        B3[SLA Definitions<br/>Response Times]
        B4[Auto Notifications<br/>Stakeholder Alerts]
    end

    subgraph "Forensics Pipeline"
        C1[Evidence Collection<br/>Python Playbooks]
        C2[SIEM Integration<br/>Artifact Acquisition]
        C3[Chain of Custody<br/>Legal Compliance]
        C4[Analysis Tools<br/>Timeline & IOCs]
    end

    subgraph "Stakeholder Communication"
        D1[Engineering<br/>Technical Details]
        D2[Legal<br/>Compliance]
        D3[PR<br/>Public Comms]
        D4[Executives<br/>Business Impact]
    end

    subgraph "Continuous Improvement"
        E1[Post-Mortem<br/>Blameless Review]
        E2[Root Cause Analysis<br/>Systemic Issues]
        E3[Lessons Learned<br/>Documentation]
        E4[Action Items<br/>Tracking]
    end

    A1 --> A2 --> A3 --> A4 --> A5 --> A6
    B1 --> B2 --> B3 --> B4
    A1 --> B1
    A4 --> C1
    C1 --> C2 --> C3 --> C4
    A5 --> D1 & D2 & D3 & D4
    A6 --> E1
    E1 --> E2 --> E3 --> E4

    style A4 fill:#3b82f6,stroke:#2563eb,stroke-width:3px
    style E1 fill:#3b82f6,stroke:#2563eb,stroke-width:2px`,
                technicalDetails: [
                    '<strong>F3EAD Implementation:</strong> Intelligence-driven incident response cycle based on military targeting methodology. MITRE ATT&CK framework provides common taxonomy for threat classification. SIEM correlation rules trigger automated workflows. Python scripts orchestrate evidence collection and analysis.',
                    '<strong>Forensics Automation:</strong> Standardized playbooks ensure consistent evidence handling across all incidents. Chain-of-custody tracking maintains legal defensibility. SIEM integration enables rapid log/artifact collection from distributed systems. Memory forensics and disk imaging automated where possible.',
                    '<strong>Classification System:</strong> P0 (Critical): Customer data breach, production outage. P1 (High): Attempted breach, security control failure. P2 (Medium): Policy violation, suspicious activity. P3 (Low): Security hygiene, informational. Each tier has defined SLAs and escalation paths.',
                    '<strong>Stakeholder Coordination:</strong> Engineering receives technical IOCs and remediation guidance. Legal gets compliance implications and regulatory reporting requirements. PR receives approved external messaging. Executives see business impact and strategic recommendations.',
                    '<strong>Continuous Improvement:</strong> Blameless post-mortems focus on systemic issues rather than individual blame. Root cause analysis identifies detection gaps and control weaknesses. Action item tracking ensures improvements are implemented. Metrics track MTTD (Mean Time to Detect) and MTTR (Mean Time to Respond).'
                ],
                metrics: 'NIST SP 800-61 Compliant • F3EAD Framework • MITRE ATT&CK Mapping • Cross-Functional Coordination'
            }
        };

        // Toggle project details
        function toggleProjectDetails(projectId) {
            const existingDetails = document.getElementById(`details-${projectId}`);

            if (existingDetails) {
                // Hide details
                existingDetails.style.maxHeight = '0px';
                setTimeout(() => {
                    existingDetails.remove();
                }, 300);
                return;
            }

            // Show details
            const project = projectDetails[projectId];

            // Build architecture sections HTML
            const architectureSectionsHtml = project.architecture.sections.map(section => `
                <div class="mb-4">
                    <h5 class="text-sm font-semibold text-foreground mb-2">${section.heading}</h5>
                    <p class="text-sm text-muted-foreground">${section.content}</p>
                </div>
            `).join('');

            // Build technical details HTML
            const technicalDetailsHtml = project.technicalDetails.map(detail => `
                <li class="text-sm text-muted-foreground mb-2">• ${detail}</li>
            `).join('');

            const detailsHtml = `
                <div id="details-${projectId}" class="project-details mt-6 p-6 bg-muted rounded-lg" style="max-height: 0px; overflow: hidden; transition: max-height 0.3s ease-out;">
                    <h4 class="text-lg font-semibold mb-4 text-primary">${project.title}</h4>

                    <div class="mb-6">
                        <p class="text-sm font-medium mb-2">Technology Stack:</p>
                        <div class="flex flex-wrap gap-2">
                            ${project.tech.map(tech => `<span class="badge-secondary text-xs">${tech}</span>`).join('')}
                        </div>
                    </div>

                    <div class="mb-6">
                        <p class="text-sm font-medium mb-3">Project Overview:</p>
                        <p class="text-sm text-muted-foreground">${project.overview}</p>
                    </div>

                    ${project.diagram ? `
                    <div class="mb-6">
                        <p class="text-sm font-medium mb-3">System Architecture Diagram:</p>
                        <div class="bg-background p-4 rounded border border-border">
                            <pre class="mermaid">${project.diagram}</pre>
                        </div>
                    </div>
                    ` : ''}

                    <div class="mb-6">
                        <p class="text-sm font-medium mb-3">${project.architecture.title}:</p>
                        ${architectureSectionsHtml}
                    </div>

                    <div class="mb-6">
                        <p class="text-sm font-medium mb-3">Technical Implementation Details:</p>
                        <ul class="space-y-1">
                            ${technicalDetailsHtml}
                        </ul>
                    </div>

                    <div class="text-xs text-muted-foreground font-medium bg-background p-3 rounded">
                        📊 ${project.metrics}
                    </div>
                </div>
            `;

            // Find the button's parent article and insert details
            const button = event.target;
            const article = button.closest('article');
            const buttonContainer = button.closest('.pt-4');

            buttonContainer.insertAdjacentHTML('afterend', detailsHtml);

            // Animate in and initialize mermaid
            setTimeout(() => {
                const details = document.getElementById(`details-${projectId}`);
                details.style.maxHeight = details.scrollHeight + 'px';

                // Initialize mermaid diagrams if they exist
                if (window.mermaid && project.diagram) {
                    window.mermaid.run({
                        querySelector: `#details-${projectId} .mermaid`
                    });
                }
            }, 10);
        }

        // Function to setup interactive photo for any container (global)
        function setupPhotoInteraction(container, clearLayer, cursorBorder) {
            console.log('Setting up photo interaction:', { container, clearLayer, cursorBorder });
            if (!container || !clearLayer || !cursorBorder) {
                console.log('Missing elements, skipping setup');
                return;
            }

            let mousePosition = { x: 0, y: 0 };
            let isHovering = false;

            // Constants for spotlight window size
            const rectWidth = 150;
            const rectHeight = 200;

            function handleMouseMove(e) {
                const rect = container.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;

                mousePosition = { x, y };

                if (isHovering) {
                    updateSpotlight();
                    updateCursor();
                }
            }

            function updateSpotlight() {
                const containerWidth = container.offsetWidth;
                const containerHeight = container.offsetHeight;

                // Calculate insets to create a window centered on cursor
                const top = Math.max(0, mousePosition.y - rectHeight / 2);
                const right = Math.max(0, containerWidth - mousePosition.x - rectWidth / 2);
                const bottom = Math.max(0, containerHeight - mousePosition.y - rectHeight / 2);
                const left = Math.max(0, mousePosition.x - rectWidth / 2);

                const clipPathValue = `inset(${top}px ${right}px ${bottom}px ${left}px round 8px)`;
                console.log('Setting clipPath:', clipPathValue);
                clearLayer.style.clipPath = clipPathValue;
            }

            function updateCursor() {
                cursorBorder.style.left = mousePosition.x + 'px';
                cursorBorder.style.top = mousePosition.y + 'px';
                cursorBorder.style.transform = 'translate(-50%, -50%)';
            }

            function handleMouseEnter() {
                isHovering = true;
                clearLayer.style.opacity = '1';
                cursorBorder.classList.remove('hidden');
            }

            function handleMouseLeave() {
                isHovering = false;
                clearLayer.style.opacity = '0';
                cursorBorder.classList.add('hidden');
            }

            // Add event listeners
            container.addEventListener('mousemove', handleMouseMove);
            container.addEventListener('mouseenter', handleMouseEnter);
            container.addEventListener('mouseleave', handleMouseLeave);
        }

        // Initialize interactive photo
        function initInteractivePhoto() {
            // Desktop photo
            const container = document.getElementById('interactive-photo');
            const clearLayer = document.getElementById('clear-layer');
            const cursorBorder = document.getElementById('cursor-border');

            console.log('Desktop elements:', { container, clearLayer, cursorBorder });

            // Setup desktop photo
            setupPhotoInteraction(container, clearLayer, cursorBorder);
        }

        // Add event listeners when DOM is loaded
        document.addEventListener('DOMContentLoaded', function () {
            console.log('DOM loaded, initializing interactive photo...');
            // Initialize interactive photo
            initInteractivePhoto();

            // Handle mobile photo positioning
            let mobilePhotoSetup = false; // Prevent multiple setups

            function handleMobilePhoto() {
                const isMobile = window.innerWidth < 768;
                const isTouchDevice = 'ontouchstart' in window || navigator.maxTouchPoints > 0;
                const shouldShowMobile = isMobile || isTouchDevice;
                const desktopPhoto = document.getElementById('interactive-photo');
                const mobilePlaceholder = document.getElementById('mobile-photo-placeholder');

                console.log('handleMobilePhoto called:', {
                    isMobile,
                    isTouchDevice,
                    shouldShowMobile,
                    windowWidth: window.innerWidth,
                    mobilePhotoSetup,
                    desktopPhoto: !!desktopPhoto,
                    mobilePlaceholder: !!mobilePlaceholder,
                    placeholderDisplay: mobilePlaceholder ? mobilePlaceholder.style.display : 'null'
                });

                if (shouldShowMobile && desktopPhoto && mobilePlaceholder && !mobilePhotoSetup) {
                    console.log('Setting up mobile photo...');
                    mobilePhotoSetup = true;
                    // Clone the desktop photo for mobile
                    const mobilePhoto = desktopPhoto.cloneNode(true);
                    mobilePhoto.id = 'mobile-interactive-photo';

                    // Update IDs for mobile photo elements to avoid conflicts
                    const mobileClearLayer = mobilePhoto.querySelector('#clear-layer');
                    const mobileCursorBorder = mobilePhoto.querySelector('#cursor-border');

                    if (mobileClearLayer) mobileClearLayer.id = 'mobile-clear-layer';
                    if (mobileCursorBorder) mobileCursorBorder.id = 'mobile-cursor-border';

                    // Clear placeholder and add mobile photo
                    mobilePlaceholder.innerHTML = '';
                    mobilePlaceholder.appendChild(mobilePhoto);
                    mobilePlaceholder.style.display = 'block';

                    // Hide desktop photo
                    desktopPhoto.style.display = 'none';

                    // Initialize interactive functionality for mobile photo
                    setupPhotoInteraction(mobilePhoto, mobileClearLayer, mobileCursorBorder);
                } else if (!shouldShowMobile && mobilePlaceholder && mobilePhotoSetup) {
                    console.log('Switching to desktop mode...');
                    mobilePhotoSetup = false;
                    // Hide mobile photo on desktop
                    mobilePlaceholder.style.display = 'none';

                    // Show desktop photo
                    if (desktopPhoto) {
                        desktopPhoto.style.display = 'block';
                    }
                }
            }

            // Initial call
            handleMobilePhoto();

            // Handle window resize with debouncing
            let resizeTimeout;
            window.addEventListener('resize', function () {
                clearTimeout(resizeTimeout);
                resizeTimeout = setTimeout(handleMobilePhoto, 250);
            });

            // Add click handlers to project buttons
            const buttons = document.querySelectorAll('[data-project]');
            buttons.forEach(button => {
                button.addEventListener('click', function () {
                    const projectId = this.getAttribute('data-project');
                    toggleProjectDetails(projectId);
                });
            });
        });
    </script>
</body>

</html>